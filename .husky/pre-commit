#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# è·å–æš‚å­˜çš„æ–‡ä»¶
STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(ts|tsx|js|jsx|json|css|scss|less)$')

if [ -n "$STAGED_FILES" ]; then
  echo "ğŸ“ Staged files to check:"
  echo "$STAGED_FILES"
  
  # è¿è¡Œlint-staged
  npx lint-staged
else
  echo "âœ… No staged files to check"
fi
